<!DOCTYPE html>
<html>
  <head>
    <title>İletişim</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link href="/assets/css/style.css" rel="stylesheet">
    <script src="/assets/js/vue.global.js"></script>
    <link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg">
  </head>
  <body class="bg-black text-white">
    <header class="bg-dark text-white pt-3 pb-0 mb-0">
      <div class="container d-flex flex-wrap align-items-center justify-content-center">
        <a href="index.html" class="d-flex align-middle mb-3 mb-lg-0 text-white text-decoration-none">
          <img src="/assets/images/favicon.svg" alt="favicon" width="32" height="32">
          <span class="fs-4 align-top fix-margin-left-5"> Testing</span>
        </a>
      </div>
    </header>
    <nav class="bg-dark d-flex flex-wrap justify-content-center pt-0 pb-3 mb-0">
      <ul class="nav nav-pills me-auto fix-margin-left-10">
        <li class="nav-item fix-margin-right-5"><a href="index.html" class="nav-link bg-secondary active" aria-current="page">Hakkımda</a></li>
        <li class="nav-item fix-margin-right-5"><a href="ozgecmis.html" class="nav-link bg-secondary active">Özgeçmiş</a></li>
        <li class="nav-item fix-margin-right-5"><a href="sehrim.html" class="nav-link bg-secondary active">Şehrim</a></li>
        <li class="nav-item fix-margin-right-5"><a href="takimimiz.html" class="nav-link bg-secondary active">Takımımız</a></li>
        <li class="nav-item"><a href="ilgi-alanlarim.html" class="nav-link bg-secondary active">İlgi Alanlarım</a></li>
      </ul>
      <ul class="nav nav-pills fix-margin-right-10">
        <li class="nav-item fix-margin-right-5"><a href="contact.html" class="nav-link active bg-success">İletişim</a></li>
        <li class="nav-item"><a href="login.html" class="nav-link active bg-success">Giriş Yap</a></li>
      </ul>
    </nav>
    <div id="app" class="container py-5">
    <h1 class="mb-4">İletişim Formu</h1>
    <form id="contactForm" @submit.prevent="checkForm" method="post" action="process.php" ref="formRef">
      <div class="mb-3">
        <label for="isim_ad" class="form-label">Ad</label>
        <input type="text" id="isim_ad" name="isim_ad" class="form-control" v-model="isim_ad">
        <div v-if="!isNameValid" class="text-danger mt-1">İsim boş bırakılamaz.</div>
      </div>
      <div class="mb-3">
        <label for="isim_soyad" class="form-label">Soyad</label>
        <input type="text" id="isim_soyad" name="isim_soyad" class="form-control" v-model="isim_soyad">
        <div v-if="!isNameValid" class="text-danger mt-1">İsim boş bırakılamaz.</div>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">E-posta</label>
        <input type="text" id="email" name="email" class="form-control" v-model="email">
        <div v-if="!isEmailValid" class="text-danger mt-1">Geçerli bir e-posta giriniz.</div>
      </div>

      <div class="alert alert-danger" v-if="errorMessage">{{ errorMessage }}</div>
      <div class="alert alert-success" v-if="responseMessage">{{ responseMessage }}</div>

      <div class="d-flex gap-3">
        <input type="reset" value="Temizle">
        <button type="submit" class="btn btn-info" onclick="validateFormJS()">JS Kontrol</button>
        <button type="submit" class="btn btn-success" @click="checkForm">Vue Gönder</button>
      </div>
    </form>
  </div>
  <script>
function validateFormJS() {
  const adInput = document.getElementById('isim_ad');
  const soyadInput = document.getElementById('isim_soyad');
  const emailInput = document.getElementById('email');

  let isValid = true;

  adInput.classList.remove('is-invalid');
  soyadInput.classList.remove('is-invalid');
  emailInput.classList.remove('is-invalid');

  if (adInput.value.trim() === '') {
    adInput.classList.add('is-invalid');
    isValid = false;
  }
  
  if (soyadInput.value.trim() === '') {
    soyadInput.classList.add('is-invalid');
    isValid = false;
  }

  const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
  if (!emailRegex.test(emailInput.value.trim())) {
    emailInput.classList.add('is-invalid');
    isValid = false;
  }

  if (!isValid) {
    alert('Bazı alanlar hatalı. Lütfen kontrol edin.');
  } else {
    alert('Form JS ile başarılı şekilde doğrulandı.');
  }
}
</script>
  <script>
    const { createApp, ref } = Vue;

    createApp({
      setup() {
        const isim_ad = ref('');
        const isim_soyad = ref('');
        const email = ref('');
        const isNameValid = ref(true);
        const isEmailValid = ref(true);
        const errorMessage = ref('');
        const responseMessage = ref('');
        const formRef = ref(null);

        const validateEmail = () => {
          const eRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
          isEmailValid.value = eRegex.test(email.value);
        };

        const validateName = () => {
          isNameValid.value = (isim_ad.value.trim().length > 0) && (isim_soyad.value.trim().length > 0);
        };

        const checkForm = () => {
          validateName();
          validateEmail();

          if (!isNameValid.value || !isEmailValid.value) {
            errorMessage.value = 'Geçersiz alanlar mevcut. Lütfen tekrar kontrol edin.';
            responseMessage.value = '';
            return;
          }

          errorMessage.value = '';
          responseMessage.value = 'Form başarıyla gönderildi.';
          
          formRef.value.submit();
        };

        return {
          isim_ad,
          isim_soyad,
          email,
          isNameValid,
          isEmailValid,
          errorMessage,
          responseMessage,
          checkForm,
          formRef
        };
      }
    }).mount('#app');
  </script>
  </body>
</html>
